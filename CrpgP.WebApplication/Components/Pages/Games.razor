@page "/games"
@using CrpgP.WebApplication.Models;
@using CrpgP.WebApplication.Services
@inject ApiService ApiService

<PageTitle>Games</PageTitle>

<h3>Games</h3>

@if (_games == null)
{
    <p>
        <em>Loading...</em>
    </p>
}
else
{
    foreach (var game in _games)
    {
        @game.Name
        <br>
        
        <ContentBoxGame
            DisplayName=@game.Name
            Slug="slug"
            ImagePath="path"
        />
    }
}


@code
{
    private IEnumerable<GameModel>? _games;

    protected override async Task OnInitializedAsync()
    {
        _games = await ApiService.GetAllGames();
    }
}